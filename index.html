<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<title>PaixÃ£oFlix â€“ Web TV</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="https://github.com/VisorFinances/lista-paixaoflix/blob/main/logo512.png?raw=true">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/hls.js@1.5.8"></script>

<style>
:root { --primary:#e50914; --bg:#111; }
body{margin:0;background:#000;color:#fff;font-family:Poppins;display:flex;height:100vh;overflow:hidden}

#side{width:340px;background:var(--bg);display:flex;flex-direction:column;border-right:1px solid #222}
#top{padding:20px 20px 10px}
#header-row{display:flex;justify-content:space-between;align-items:center}
#logo{max-width:150px}
#clock{font-size:22px;font-weight:700}
#date{font-size:12px;opacity:.8}

/* ðŸ”§ ÃšNICA ALTERAÃ‡ÃƒO VISUAL: input maior para TV */
#search{
  width:100%;
  padding:16px;
  font-size:16px;
  border-radius:8px;
  border:1px solid var(--primary);
  background:#000;
  color:#fff;
}
#search.focus{outline:3px solid #fff}

#now-playing-bar{padding:10px 20px;font-size:13px;color:#aaa;display:flex;gap:8px}
.play-icon-small{width:12px;height:12px;fill:var(--primary)}

#buttons{display:grid;grid-template-columns:1fr 1fr;gap:6px;padding:10px}
#buttons button{
  padding:10px;
  border-radius:6px;
  background:#222;
  color:#fff;
  font-weight:700;
  font-size:11px;
  border:0;
}
#buttons button.active{background:var(--primary)}
#buttons button.focus{outline:3px solid #fff}

#list{flex:1;overflow-y:auto}
.item{
  padding:14px;
  border-bottom:1px solid #222;
  cursor:pointer;
  border-left:5px solid transparent;
}
.item.focus{
  border-left-color:var(--primary);
  background:rgba(255,255,255,.05);
}

#player{flex:1;position:relative}
video{width:100%;height:100%;background:#000}

#overlay-zap{
  position:absolute;
  bottom:60px;
  left:40px;
  background:rgba(0,0,0,.8);
  padding:15px 30px;
  border-left:8px solid var(--primary);
  display:none;
}
#zap-title{font-size:28px;font-weight:700}
</style>
</head>

<body>

<div id="side">
  <div id="top">
    <div id="header-row">
      <img id="logo" src="https://github.com/VisorFinances/lista-paixaoflix/blob/main/logo.png?raw=true">
      <div>
        <div id="clock">00:00</div>
        <div id="date">00/00/00</div>
      </div>
    </div>
    <input id="search" placeholder="Pesquisar..." tabindex="0">
  </div>

  <div id="now-playing-bar">
    <svg class="play-icon-small" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
    <span>Assistindo agora: <b id="current-title">Nenhum conteÃºdo</b></span>
  </div>

  <div id="buttons">
    <button id="btnTV" tabindex="0">TV</button>
    <button id="btnFilmes" tabindex="0">FILMES</button>
    <button id="btnSeries" tabindex="0">SÃ‰RIES</button>
    <button id="btnKidsCanais" style="background:#0056b3" tabindex="0">CANAIS KIDS</button>
    <button id="btnKidsConteudo" style="background:#0056b3" tabindex="0">FILMES/SÃ‰RIES KIDS</button>
    <button id="btnFav" tabindex="0">FAVORITOS</button>
  </div>

  <div id="list"></div>
</div>

<div id="player">
  <video id="video" playsinline></video>
  <div id="overlay-zap"><div id="zap-title"></div></div>
</div>

<script>
const search=document.getElementById('search');
const list=document.getElementById('list');
const video=document.getElementById('video');

let items=[],filtered=[],focusables=[],focusIndex=0;

/* â° relÃ³gio intacto */
function updateClock(){
 const d=new Date();
 clock.innerText=d.toLocaleTimeString('pt-BR',{hour:'2-digit',minute:'2-digit'});
 date.innerText=d.toLocaleDateString('pt-BR');
}
setInterval(updateClock,1000);updateClock();

/* ðŸ“‹ render sem autoplay */
function render(data){
 list.innerHTML='';
 data.forEach(i=>{
  const d=document.createElement('div');
  d.className='item';
  d.tabIndex=0;
  d.innerText=i.nome;
  d.onclick=()=>play(i);
  list.appendChild(d);
 });
 rebuildFocus();
}

/* ðŸ” pesquisa FUNCIONAL */
search.addEventListener('input',()=>{
 const q=search.value.toLowerCase();
 filtered=items.filter(i=>i.nome.toLowerCase().includes(q));
 render(filtered);
});

/* ðŸŽ¯ foco estÃ¡vel (LG WebOS safe) */
function rebuildFocus(){
 focusables=[
  search,
  ...document.querySelectorAll('#buttons button'),
  ...document.querySelectorAll('.item')
 ];
 if(focusIndex>=focusables.length) focusIndex=0;
 updateFocus();
}

function updateFocus(){
 focusables.forEach((e,i)=>e.classList.toggle('focus',i===focusIndex));
 focusables[focusIndex]?.focus();
}

/* ðŸŽ® controle remoto real */
document.addEventListener('keydown',e=>{
 if(document.activeElement===search) return;

 switch(e.key){
  case'ArrowDown':focusIndex++;break;
  case'ArrowUp':focusIndex--;break;
  case'Enter':
  case'OK':
   focusables[focusIndex]?.click();
   break;
 }
 focusIndex=(focusIndex+focusables.length)%focusables.length;
 updateFocus();
});

/* â–¶ï¸ player sÃ³ quando clicar */
function play(i){
 video.src=i.url;
 video.play().catch(()=>{});
 zap-title.innerText=i.nome;
 overlay-zap.style.display='block';
 setTimeout(()=>overlay-zap.style.display='none',2000);
}

/* ðŸ“¦ dados exemplo (sem autoplay) */
items=[
 {nome:'Canal Exemplo 1',url:'https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8'},
 {nome:'Canal Exemplo 2',url:'https://test-streams.mux.dev/test_001/stream.m3u8'}
];
filtered=items;
render(items);
</script>

</body>
</html>
