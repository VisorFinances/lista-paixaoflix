<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TV System</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #000;
    color: #fff;
    overflow: hidden;
}

header {
    display: flex;
    justify-content: space-between;
    padding: 10px 20px;
    background: #111;
}

#clock {
    font-size: 16px;
}

nav {
    display: flex;
    gap: 20px;
}

nav button {
    background: #222;
    color: #fff;
    border: none;
    padding: 10px 16px;
    font-size: 16px;
}

nav button.focused {
    outline: 3px solid #0af;
}

#search {
    width: 100%;
    padding: 14px;
    font-size: 20px;
    border: none;
}

#content {
    display: flex;
    height: calc(100vh - 120px);
}

#list {
    width: 40%;
    overflow: hidden;
}

.item {
    padding: 14px;
    border-bottom: 1px solid #222;
}

.item.focused {
    background: #0af;
    color: #000;
}

#player {
    width: 60%;
    background: #111;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
}
</style>
</head>

<body>

<header>
    <nav>
        <button data-cat="tv">TV</button>
        <button data-cat="filmes">Filmes</button>
        <button data-cat="series">Séries</button>
    </nav>
    <div id="clock"></div>
</header>

<input id="search" placeholder="Pesquisar..." />

<div id="content">
    <div id="list"></div>
    <div id="player">Nenhum canal</div>
</div>

<script>
/* ================= DADOS ================= */
const data = {
    tv: ["Canal 1", "Canal 2", "Canal 3", "Canal 4"],
    filmes: ["Filme A", "Filme B", "Filme C"],
    series: ["Série X", "Série Y"]
};

let currentCategory = "tv";
let focusArea = "menu"; // menu | list
let menuIndex = 0;
let listIndex = 0;

/* ================= CLOCK ================= */
function updateClock() {
    const now = new Date();
    document.getElementById("clock").innerText =
        now.toLocaleDateString() + " " + now.toLocaleTimeString();
}
setInterval(updateClock, 1000);
updateClock();

/* ================= RENDER ================= */
const navButtons = [...document.querySelectorAll("nav button")];
const list = document.getElementById("list");
const player = document.getElementById("player");

function renderMenu() {
    navButtons.forEach((b, i) =>
        b.classList.toggle("focused", focusArea === "menu" && i === menuIndex)
    );
}

function renderList() {
    list.innerHTML = "";
    data[currentCategory].forEach((item, i) => {
        const div = document.createElement("div");
        div.className = "item" + (focusArea === "list" && i === listIndex ? " focused" : "");
        div.innerText = item;
        list.appendChild(div);
    });
}

function activateItem() {
    const name = data[currentCategory][listIndex];
    player.innerText = currentCategory === "tv"
        ? "Assistindo: " + name
        : "Selecionado: " + name;
}

/* ================= CATEGORY ================= */
function changeCategory(cat) {
    currentCategory = cat;
    listIndex = 0;
    focusArea = "list";
    renderMenu();
    renderList();
    if (cat === "tv") activateItem();
}

/* ================= SEARCH ================= */
document.getElementById("search").addEventListener("input", e => {
    const q = e.target.value.toLowerCase();
    data[currentCategory] = data[currentCategory].filter(i =>
        i.toLowerCase().includes(q)
    );
    listIndex = 0;
    renderList();
});

/* ================= NAVIGATION ================= */
document.addEventListener("keydown", e => {
    const k = e.keyCode;

    // UP
    if (k === 38) {
        if (focusArea === "list" && listIndex > 0) listIndex--;
        renderList();
    }

    // DOWN
    if (k === 40) {
        if (focusArea === "menu") {
            focusArea = "list";
        } else if (listIndex < data[currentCategory].length - 1) {
            listIndex++;
        }
        renderMenu();
        renderList();
    }

    // LEFT
    if (k === 37 && focusArea === "list") {
        focusArea = "menu";
        renderMenu();
        renderList();
    }

    // RIGHT
    if (k === 39 && focusArea === "menu") {
        focusArea = "list";
        renderMenu();
        renderList();
    }

    // OK / ENTER
    if (k === 13) {
        if (focusArea === "menu") {
            changeCategory(navButtons[menuIndex].dataset.cat);
        } else {
            activateItem();
        }
    }

    // CH+
    if (k === 427 && currentCategory === "tv") {
        if (listIndex < data.tv.length - 1) listIndex++;
        activateItem();
        renderList();
    }

    // CH-
    if (k === 428 && currentCategory === "tv") {
        if (listIndex > 0) listIndex--;
        activateItem();
        renderList();
    }
});

/* ================= INIT ================= */
renderMenu();
renderList();
activateItem(); // primeiro canal ativo
</script>

</body>
</html>
