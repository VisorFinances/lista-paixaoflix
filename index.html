<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<title>PaixãoFlix TV V.28.1.70</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;400;500;700;900&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;outline:none;font-family:'Poppins',sans-serif;overflow:hidden!important}
body{margin:0;background:#040714;color:#fff;height:100vh;width:100vw}

.focused{border:5px solid #FFCE44!important;box-shadow:0 0 15px rgba(255,206,68,.8);background:rgba(255,206,68,.1)!important;z-index:10}

#topBar{position:fixed;top:0;width:100%;height:90px;display:flex;align-items:center;justify-content:space-between;padding:0 50px;z-index:5000;background:#040714;border-bottom:1px solid rgba(255,255,255,.1)}
#logoMain{height:70px}
#barCounter{color:#FFCE44;font-weight:900}

#sideMenu{position:fixed;left:0;top:90px;height:calc(100vh - 90px);width:80px;background:#040714;display:flex;flex-direction:column;align-items:center;padding-top:10px;z-index:5500;border-right:1px solid rgba(255,255,255,.1);transition:.2s}
#sideMenu.active{width:280px}
.menu-item{width:100%;height:60px;display:flex;align-items:center;padding-left:28px;color:#aaa;cursor:pointer}
.menu-item i{font-size:22px;min-width:40px}
.menu-item span{display:none;margin-left:20px;font-weight:700}
#sideMenu.active span{display:block}

#searchBox{width:85%;margin:10px auto;padding:10px;border-radius:5px;border:1px solid #333;background:#1a1d29;color:#fff}

#mainScroll{width:100%;height:100vh;padding:160px 0 120px 90px;overflow-y:auto!important}
.category-block{margin:0 50px 40px}
.cat-header{font-size:26px;font-weight:900;border-left:8px solid #FFCE44;padding-left:20px;margin-bottom:25px}

.movie-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:20px}
.movie-card{background:#1a1d29;border-radius:10px;cursor:pointer}
.movie-poster{width:100%;height:100%;object-fit:cover;border-radius:10px}
.meta-card{text-align:center;font-weight:700;color:#ccc;margin-top:6px}

.btn-container{margin:30px 0}
.btn-3d{width:100%;padding:16px;font-weight:900;background:#FFCE44;border:none;border-bottom:6px solid #b38f00;border-radius:8px}

#detailsOverlay{position:fixed;inset:0;background:#040714;z-index:9000;display:none;padding:50px}
.ep-grid{display:grid;grid-template-columns:repeat(10,1fr);gap:10px;margin-top:20px}
.btn-ep{background:#1a1d29;color:#fff;padding:10px;border:none;border-radius:5px;font-weight:900}

#videoContainer{position:fixed;inset:0;background:#000;z-index:99999;display:none}
.btn-sair-vidro{position:absolute;top:30px;right:30px;padding:15px 30px;font-weight:900;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);border-radius:10px}
.adesivo{position:absolute;bottom:20px;right:20px;color:rgba(255,255,255,.5)}

.channel-grid{display:grid;grid-template-columns:repeat(8,1fr);gap:15px}
.channel-logo{width:100%;cursor:pointer}
</style>
</head>

<body onload="initSystem()">

<div id="topBar">
<img id="logoMain" src="https://raw.githubusercontent.com/VisorFinances/lista-paixaoflix/refs/heads/main/logoof512.png" tabindex="0">
<div id="barCounter">CARREGANDO...</div>
<div id="barDateTime"></div>
</div>

<div id="sideMenu">
<input id="searchBox" placeholder="PESQUISAR..." tabindex="0">
<div class="menu-item" tabindex="0" onclick="renderCanais('data/ativa_canais.m3u')"><i class="fas fa-tv"></i><span>CANAIS AO VIVO</span></div>
<div class="menu-item" tabindex="0" onclick="changeSection('cinema')"><i class="fas fa-film"></i><span>CINEMA</span></div>
<div class="menu-item" tabindex="0" onclick="changeSection('series')"><i class="fas fa-clapperboard"></i><span>SÉRIES</span></div>
<div class="menu-item" tabindex="0" onclick="renderFavoritos()"><i class="fas fa-heart"></i><span>FAVORITOS</span></div>
<div class="menu-item" tabindex="0" onclick="renderCanais('data/ativa_kids_canais.m3u')"><i class="fas fa-child"></i><span>CANAIS KIDS</span></div>
<div class="menu-item" tabindex="0" onclick="changeSection('kids_filmes')"><i class="fas fa-baby"></i><span>FILMES KIDS</span></div>
<div class="menu-item" tabindex="0" onclick="changeSection('kids_series')"><i class="fas fa-robot"></i><span>SÉRIES KIDS</span></div>
</div>

<div id="mainScroll">
<div id="dynamicContent"></div>
</div>

<div id="detailsOverlay"></div>

<div id="videoContainer">
<div class="btn-sair-vidro" onclick="exitPlayer()">SAIR</div>
<video id="player" controls autoplay style="width:100%;height:100%"></video>
<div id="adesivo" class="adesivo"></div>
</div>

<script>
let db={cinema:[],series:[],kids_filmes:[],kids_series:[],todos:[]}
let favs=JSON.parse(localStorage.getItem('favs'))||[]

async function initSystem(){
db.cinema=await fetch('data/filmes.json').then(r=>r.json())
db.series=await fetch('data/series.json').then(r=>r.json())
db.kids_filmes=await fetch('data/kids_filmes.json').then(r=>r.json())
db.kids_series=await fetch('data/kids_series.json').then(r=>r.json())
db.todos=[...db.cinema,...db.series,...db.kids_filmes,...db.kids_series]
document.getElementById('barCounter').innerText=`TOTAL ${db.todos.length}`
changeSection('cinema')
initSearch()
initNavigation()
setInterval(()=>{document.getElementById('barDateTime').innerText=new Date().toLocaleTimeString('pt-BR',{hour:'2-digit',minute:'2-digit'})},1000)
}

function renderCard(i){
return `<div class="movie-card" tabindex="0" onclick='openDetails(${JSON.stringify(i)})'>
<img class="movie-poster" src="${i.poster}">
<div class="meta-card">${i.year} ⭐ ${i.rating}</div></div>`
}

function changeSection(type){
const c=document.getElementById('dynamicContent');c.innerHTML=''
const cats=[...new Set(db[type].map(i=>i.genero))]
cats.forEach(cat=>{
const list=db[type].filter(i=>i.genero===cat).sort((a,b)=>a.titulo.localeCompare(b.titulo))
c.innerHTML+=`<
