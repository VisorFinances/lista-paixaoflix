<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>PaixãoFlix TV</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/hls.js@1.5.8"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  background:#1e1e1e;
  color:#fff;
  font-family:Arial,Helvetica,sans-serif;
  overflow:hidden;
}
header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 24px;
}
header img{
  height:72px;
}
#clock{
  font-size:18px;
  opacity:.85;
}
#app{
  display:flex;
  height:calc(100vh - 96px);
}
#menu{
  width:280px;
  background:#111;
  padding:16px;
}
.menu-item{
  background:#222;
  padding:16px;
  margin-bottom:8px;
  border-radius:10px;
  font-size:18px;
}
.menu-item.active{
  background:#ff7a00;
}
#content{
  flex:1;
  position:relative;
}
video{
  width:100%;
  height:100%;
  background:#000;
}
#card{
  position:absolute;
  bottom:32px;
  left:32px;
  width:420px;
  background:rgba(0,0,0,.78);
  padding:20px;
  border-radius:16px;
}
#card img{
  width:100%;
  border-radius:12px;
}
#card h2{
  margin:10px 0 4px;
  font-size:20px;
}
#card p{
  font-size:14px;
  opacity:.85;
}
.hidden{display:none}
.kids .menu-item.active{background:#ff9800}
</style>
</head>

<body>

<header>
  <img src="https://raw.githubusercontent.com/VisorFinances/lista-paixaoflix/refs/heads/main/logoof512.png">
  <div id="clock"></div>
</header>

<div id="app">

  <div id="menu">
    <div class="menu-item active">TV AO VIVO</div>
    <div class="menu-item">CINEMA</div>
    <div class="menu-item">SÉRIES</div>
    <div class="menu-item">KIDS</div>
  </div>

  <div id="content">
    <video id="player" autoplay muted controls></video>

    <div id="card" class="hidden">
      <img id="cardImg" src="">
      <h2 id="cardTitle"></h2>
      <p id="cardInfo"></p>
      <p id="cardDesc"></p>
    </div>
  </div>

</div>

<script>
/* DATA E HORA */
function clock(){
  const d=new Date();
  const dias=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"];
  const meses=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"];
  document.getElementById("clock").innerText=
    `${dias[d.getDay()]}, ${String(d.getDate()).padStart(2,"0")} ${meses[d.getMonth()]} ${d.getFullYear()} | ${String(d.getHours()).padStart(2,"0")}:${String(d.getMinutes()).padStart(2,"0")}`;
}
setInterval(clock,1000); clock();

/* PLAYER */
const video=document.getElementById("player");
function play(url){
  if(Hls.isSupported()){
    const hls=new Hls();
    hls.loadSource(url);
    hls.attachMedia(video);
  }else{
    video.src=url;
  }
}

/* FALLBACK SEGURO */
play("https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8");

/* CARD */
function showCard(img,title,info,desc){
  document.getElementById("cardImg").src=img;
  document.getElementById("cardTitle").innerText=title;
  document.getElementById("cardInfo").innerText=info;
  document.getElementById("cardDesc").innerText=desc;
  document.getElementById("card").classList.remove("hidden");
}
function hideCard(){
  document.getElementById("card").classList.add("hidden");
}

/* MENU */
let index=0;
const items=document.querySelectorAll(".menu-item");

document.addEventListener("keydown",e=>{
  if(e.key==="ArrowDown"){
    items[index].classList.remove("active");
    index=(index+1)%items.length;
    items[index].classList.add("active");
    hideCard();
  }
  if(e.key==="ArrowUp"){
    items[index].classList.remove("active");
    index=(index-1+items.length)%items.length;
    items[index].classList.add("active");
    hideCard();
  }
  if(e.key==="Enter"){
    const txt=items[index].innerText;
    if(txt==="TV AO VIVO"){
      hideCard();
    }
    if(txt==="CINEMA"){
      showCard(
        "https://via.placeholder.com/400x220",
        "Cinema",
        "Catálogos",
        "Navegue pelos filmes usando o controle"
      );
    }
    if(txt==="SÉRIES"){
      showCard(
        "https://via.placeholder.com/400x220",
        "Séries",
        "Archive.org",
        "Séries hospedadas diretamente no Archive"
      );
    }
    if(txt==="KIDS"){
      document.body.classList.add("kids");
      showCard(
        "https://via.placeholder.com/400x220",
        "Área Kids",
        "Infantil",
        "Conteúdo seguro para crianças"
      );
    }
  }
});
</script>

</body>
</html>
