<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PaixãoFlix - Streaming Platform</title>
    
    <!-- Google Fonts - Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Menu Lateral -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <i class="fas fa-play"></i>
                <span class="logo-text">PaixãoFlix</span>
            </div>
        </div>
        
        <ul class="sidebar-menu">
            <li class="menu-item">
                <a href="#" class="menu-link" data-page="home">
                    <i class="fas fa-home"></i>
                    <span class="menu-text">Home</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-page="search">
                    <i class="fas fa-search"></i>
                    <span class="menu-text">Pesquisar</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-page="live-channels">
                    <i class="fas fa-broadcast-tower"></i>
                    <span class="menu-text">Canais ao Vivo</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-page="movies">
                    <i class="fas fa-film"></i>
                    <span class="menu-text">Cinema</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-page="series">
                    <i class="fas fa-tv"></i>
                    <span class="menu-text">Séries</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-page="favorites">
                    <i class="fas fa-heart"></i>
                    <span class="menu-text">Favoritos</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-page="kids-channels">
                    <i class="fas fa-baby"></i>
                    <span class="menu-text">Canais Kids</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-page="kids-movies">
                    <i class="fas fa-child"></i>
                    <span class="menu-text">Filmes Kids</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-page="kids-series">
                    <i class="fas fa-puzzle-piece"></i>
                    <span class="menu-text">Séries Kids</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span class="menu-text">Configurações</span>
                </a>
            </li>
        </ul>
    </nav>
    
    <!-- Conteúdo Principal -->
    <main class="main-content">
        <!-- Seção Sábado à Noite -->
        <section class="saturday-night-section saturday-night">
            <div class="saturday-night-content">
                <h2><i class="fas fa-moon"></i> Sábado à Noite Merece</h2>
                <p>O melhor conteúdo para relaxar e aproveitar o fim de semana!</p>
                <div class="infinite-row">
                    <div class="wide-card">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <div class="card-info">
                            <div class="card-title">Filme Especial de Sábado</div>
                            <div class="card-meta">
                                <span>2h 30min</span>
                                <span>Ação</span>
                            </div>
                        </div>
                    </div>
                    <div class="wide-card">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <div class="card-info">
                            <div class="card-title">Série Perfeita para o Fim de Semana</div>
                            <div class="card-meta">
                                <span>45min</span>
                                <span>Comédia</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Hero Banner -->
        <section class="hero" id="hero">
            <div class="hero-background">
                <div class="hero-scrim"></div>
            </div>
            <div class="hero-content">
                <h1 class="hero-title">PaixãoFlix</h1>
                <p class="hero-description">A melhor experiência de streaming para Smart TVs</p>
                <div class="hero-buttons">
                    <button class="btn-primary" id="play-hero">
                        <i class="fas fa-play"></i>
                        Assistir Agora
                    </button>
                    <button class="btn-secondary" id="info-hero">
                        <i class="fas fa-info-circle"></i>
                        Mais Informações
                    </button>
                </div>
            </div>
        </section>
        
        <!-- 22 Categorias de Conteúdo -->
        <div id="content-container">
            <!-- Seção Novelas -->
        <section class="content-section novela-section">
            <h2 class="section-title">Novela</h2>
            <div class="infinite-row infinite-loop" data-category="novela">
                <!-- Será preenchido pelo JavaScript com loop infinito -->
            </div>
        </section>
        
        <!-- Lançamento 2026 -->
            <section class="content-section">
                <h2 class="section-title">Lançamento 2026</h2>
                <div class="movie-row" data-category="lancamento-2026">
                    <div class="movie-card" data-id="2026-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Filme 2026-01</h3>
                    </div>
                    <div class="movie-card" data-id="2026-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Filme 2026-02</h3>
                    </div>
                    <div class="movie-card" data-id="2026-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Filme 2026-03</h3>
                    </div>
                </div>
            </section>

            <!-- Lançamento 2025 -->
            <section class="content-section">
                <h2 class="section-title">Lançamento 2025</h2>
                <div class="movie-row" data-category="lancamento-2025">
                    <div class="movie-card" data-id="2025-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Filme 2025-01</h3>
                    </div>
                    <div class="movie-card" data-id="2025-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Filme 2025-02</h3>
                    </div>
                    <div class="movie-card" data-id="2025-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Filme 2025-03</h3>
                    </div>
                </div>
            </section>

            <!-- Ação -->
            <section class="content-section">
                <h2 class="section-title">Ação</h2>
                <div class="movie-row" data-category="acao">
                    <div class="movie-card" data-id="acao-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Ação 01</h3>
                    </div>
                    <div class="movie-card" data-id="acao-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Ação 02</h3>
                    </div>
                    <div class="movie-card" data-id="acao-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Ação 03</h3>
                    </div>
                </div>
            </section>

            <!-- Aventura -->
            <section class="content-section">
                <h2 class="section-title">Aventura</h2>
                <div class="movie-row" data-category="aventura">
                    <div class="movie-card" data-id="aventura-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Aventura 01</h3>
                    </div>
                    <div class="movie-card" data-id="aventura-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Aventura 02</h3>
                    </div>
                    <div class="movie-card" data-id="aventura-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Aventura 03</h3>
                    </div>
                </div>
            </section>

            <!-- Comédia -->
            <section class="content-section">
                <h2 class="section-title">Comédia</h2>
                <div class="movie-row" data-category="comedia">
                    <div class="movie-card" data-id="comedia-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Comédia 01</h3>
                    </div>
                    <div class="movie-card" data-id="comedia-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Comédia 02</h3>
                    </div>
                    <div class="movie-card" data-id="comedia-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Comédia 03</h3>
                    </div>
                </div>
            </section>

            <!-- Drama -->
            <section class="content-section">
                <h2 class="section-title">Drama</h2>
                <div class="movie-row" data-category="drama">
                    <div class="movie-card" data-id="drama-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Drama 01</h3>
                    </div>
                    <div class="movie-card" data-id="drama-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Drama 02</h3>
                    </div>
                    <div class="movie-card" data-id="drama-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Drama 03</h3>
                    </div>
                </div>
            </section>

            <!-- Nacional -->
            <section class="content-section">
                <h2 class="section-title">Nacional</h2>
                <div class="movie-row" data-category="nacional">
                    <div class="movie-card" data-id="nacional-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Nacional 01</h3>
                    </div>
                    <div class="movie-card" data-id="nacional-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Nacional 02</h3>
                    </div>
                    <div class="movie-card" data-id="nacional-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Nacional 03</h3>
                    </div>
                </div>
            </section>

            <!-- Romance -->
            <section class="content-section">
                <h2 class="section-title">Romance</h2>
                <div class="movie-row" data-category="romance">
                    <div class="movie-card" data-id="romance-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Romance 01</h3>
                    </div>
                    <div class="movie-card" data-id="romance-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Romance 02</h3>
                    </div>
                    <div class="movie-card" data-id="romance-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Romance 03</h3>
                    </div>
                </div>
            </section>

            <!-- Religioso -->
            <section class="content-section">
                <h2 class="section-title">Religioso</h2>
                <div class="movie-row" data-category="religioso">
                    <div class="movie-card" data-id="religioso-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Religioso 01</h3>
                    </div>
                    <div class="movie-card" data-id="religioso-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Religioso 02</h3>
                    </div>
                    <div class="movie-card" data-id="religioso-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Religioso 03</h3>
                    </div>
                </div>
            </section>

            <!-- Ficção -->
            <section class="content-section">
                <h2 class="section-title">Ficção</h2>
                <div class="movie-row" data-category="ficcao">
                    <div class="movie-card" data-id="ficcao-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Ficção 01</h3>
                    </div>
                    <div class="movie-card" data-id="ficcao-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Ficção 02</h3>
                    </div>
                    <div class="movie-card" data-id="ficcao-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Ficção 03</h3>
                    </div>
                </div>
            </section>

            <!-- Anime -->
            <section class="content-section">
                <h2 class="section-title">Anime</h2>
                <div class="movie-row" data-category="anime">
                    <div class="movie-card" data-id="anime-01" data-type="series">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Anime 01</h3>
                    </div>
                    <div class="movie-card" data-id="anime-02" data-type="series">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Anime 02</h3>
                    </div>
                    <div class="movie-card" data-id="anime-03" data-type="series">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Anime 03</h3>
                    </div>
                </div>
            </section>

            <!-- Animação -->
            <section class="content-section">
                <h2 class="section-title">Animação</h2>
                <div class="movie-row" data-category="animacao">
                    <div class="movie-card" data-id="animacao-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Animação 01</h3>
                    </div>
                    <div class="movie-card" data-id="animacao-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Animação 02</h3>
                    </div>
                    <div class="movie-card" data-id="animacao-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Animação 03</h3>
                    </div>
                </div>
            </section>

            <!-- Clássicos -->
            <section class="content-section">
                <h2 class="section-title">Clássicos</h2>
                <div class="movie-row" data-category="classicos">
                    <div class="movie-card" data-id="classicos-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Clássicos 01</h3>
                    </div>
                    <div class="movie-card" data-id="classicos-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Clássicos 02</h3>
                    </div>
                    <div class="movie-card" data-id="classicos-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Clássicos 03</h3>
                    </div>
                </div>
            </section>

            <!-- Dorama -->
            <section class="content-section">
                <h2 class="section-title">Dorama</h2>
                <div class="movie-row" data-category="dorama">
                    <div class="movie-card" data-id="dorama-01" data-type="series">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Dorama 01</h3>
                    </div>
                    <div class="movie-card" data-id="dorama-02" data-type="series">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Dorama 02</h3>
                    </div>
                    <div class="movie-card" data-id="dorama-03" data-type="series">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Dorama 03</h3>
                    </div>
                </div>
            </section>

            <!-- Suspense -->
            <section class="content-section">
                <h2 class="section-title">Suspense</h2>
                <div class="movie-row" data-category="suspense">
                    <div class="movie-card" data-id="suspense-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Suspense 01</h3>
                    </div>
                    <div class="movie-card" data-id="suspense-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Suspense 02</h3>
                    </div>
                    <div class="movie-card" data-id="suspense-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Suspense 03</h3>
                    </div>
                </div>
            </section>

            <!-- Policial -->
            <section class="content-section">
                <h2 class="section-title">Policial</h2>
                <div class="movie-row" data-category="policial">
                    <div class="movie-card" data-id="policial-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Policial 01</h3>
                    </div>
                    <div class="movie-card" data-id="policial-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Policial 02</h3>
                    </div>
                    <div class="movie-card" data-id="policial-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Policial 03</h3>
                    </div>
                </div>
            </section>

            <!-- Crime -->
            <section class="content-section">
                <h2 class="section-title">Crime</h2>
                <div class="movie-row" data-category="crime">
                    <div class="movie-card" data-id="crime-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Crime 01</h3>
                    </div>
                    <div class="movie-card" data-id="crime-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Crime 02</h3>
                    </div>
                    <div class="movie-card" data-id="crime-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Crime 03</h3>
                    </div>
                </div>
            </section>

            <!-- Terror -->
            <section class="content-section">
                <h2 class="section-title">Terror</h2>
                <div class="movie-row" data-category="terror">
                    <div class="movie-card" data-id="terror-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Terror 01</h3>
                    </div>
                    <div class="movie-card" data-id="terror-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Terror 02</h3>
                    </div>
                    <div class="movie-card" data-id="terror-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Terror 03</h3>
                    </div>
                </div>
            </section>

            <!-- Documentários -->
            <section class="content-section">
                <h2 class="section-title">Documentários</h2>
                <div class="movie-row" data-category="documentarios">
                    <div class="movie-card" data-id="documentarios-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Documentários 01</h3>
                    </div>
                    <div class="movie-card" data-id="documentarios-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Documentários 02</h3>
                    </div>
                    <div class="movie-card" data-id="documentarios-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Documentários 03</h3>
                    </div>
                </div>
            </section>

            <!-- Faroeste -->
            <section class="content-section">
                <h2 class="section-title">Faroeste</h2>
                <div class="movie-row" data-category="faroeste">
                    <div class="movie-card" data-id="faroeste-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Faroeste 01</h3>
                    </div>
                    <div class="movie-card" data-id="faroeste-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Faroeste 02</h3>
                    </div>
                    <div class="movie-card" data-id="faroeste-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Faroeste 03</h3>
                    </div>
                </div>
            </section>

            <!-- Musical -->
            <section class="content-section">
                <h2 class="section-title">Musical</h2>
                <div class="movie-row" data-category="musical">
                    <div class="movie-card" data-id="musical-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Musical 01</h3>
                    </div>
                    <div class="movie-card" data-id="musical-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Musical 02</h3>
                    </div>
                    <div class="movie-card" data-id="musical-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Musical 03</h3>
                    </div>
                </div>
            </section>

            <!-- Adulto -->
            <section class="content-section">
                <h2 class="section-title">Adulto</h2>
                <div class="movie-row" data-category="adulto">
                    <div class="movie-card" data-id="adulto-01" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Adulto 01</h3>
                    </div>
                    <div class="movie-card" data-id="adulto-02" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Adulto 02</h3>
                    </div>
                    <div class="movie-card" data-id="adulto-03" data-type="movie">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>Adulto 03</h3>
                    </div>
                </div>
            </section>
        </div>
    </main>
    
    <!-- Modal de Detalhes -->
    <div class="modal" id="details-modal">
        <div class="modal-backdrop" id="modal-backdrop"></div>
        <div class="modal-content">
            <button class="modal-close" id="modal-close">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="modal-header">
                <div class="modal-poster">
                    <i class="fas fa-film"></i>
                </div>
                <div class="modal-info">
                    <h2 class="modal-title" id="modal-title">Título do Conteúdo</h2>
                    <div class="modal-meta">
                        <span class="modal-year" id="modal-year">2024</span>
                        <span class="modal-duration" id="modal-duration">120 min</span>
                        <span class="modal-rating" id="modal-rating">16</span>
                    </div>
                    <div class="modal-genres" id="modal-genres">
                        <span class="genre-tag">Ação</span>
                        <span class="genre-tag">Aventura</span>
                    </div>
                </div>
            </div>
            
            <div class="modal-body">
                <div class="modal-description">
                    <h3>Sinopse</h3>
                    <p id="modal-synopsis">Uma emocionante aventura que vai prender sua atenção do início ao fim...</p>
                </div>
                
                <div class="modal-cast">
                    <h3>Elenco Principal</h3>
                    <div class="cast-list" id="modal-cast">
                        <div class="cast-member">
                            <div class="cast-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <span class="cast-name">Ator 1</span>
                        </div>
                        <div class="cast-member">
                            <div class="cast-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <span class="cast-name">Atriz 1</span>
                        </div>
                    </div>
                </div>
                
                <div class="modal-episodes" id="modal-episodes" style="display: none;">
                    <h3>Episódios</h3>
                    <div class="episodes-list" id="episodes-list">
                        <!-- Episódios serão inseridos dinamicamente -->
                    </div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="btn-primary modal-play" id="modal-play">
                    <i class="fas fa-play"></i>
                    Assistir
                </button>
                <button class="btn-secondary modal-favorite" id="modal-favorite">
                    <i class="fas fa-heart"></i>
                    Adicionar aos Favoritos
                </button>
            </div>
        </div>
    </div>
    
    <!-- Player de Vídeo 'Clapper' -->
    <div class="video-player" id="video-player" style="display: none;">
        <div class="player-container">
            <video id="main-video" preload="metadata"></video>
            
            <!-- Controles do Player -->
            <div class="player-controls" id="player-controls">
                <div class="controls-top">
                    <button class="control-btn player-back" id="player-back">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <span class="player-title" id="player-title">Título do Vídeo</span>
                    <button class="control-btn player-settings" id="player-settings">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
                
                <div class="controls-center">
                    <button class="control-btn center-play" id="center-play">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
                
                <div class="controls-bottom">
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-filled" id="progress-filled"></div>
                        </div>
                        <div class="time-display">
                            <span id="current-time">00:00</span>
                            <span>/</span>
                            <span id="duration">00:00</span>
                        </div>
                    </div>
                    
                    <div class="controls-row">
                        <div class="controls-left">
                            <button class="control-btn" id="skip-intro">
                                <i class="fas fa-forward"></i>
                                Pular Abertura
                            </button>
                        </div>
                        
                        <div class="controls-center">
                            <button class="control-btn" id="rewind">
                                <i class="fas fa-backward"></i>
                            </button>
                            <button class="control-btn" id="play-pause">
                                <i class="fas fa-play"></i>
                            </button>
                            <button class="control-btn" id="forward">
                                <i class="fas fa-forward"></i>
                            </button>
                        </div>
                        
                        <div class="controls-right">
                            <button class="control-btn" id="subtitles">
                                <i class="fas fa-closed-captioning"></i>
                            </button>
                            <button class="control-btn" id="audio">
                                <i class="fas fa-volume-up"></i>
                            </button>
                            <button class="control-btn" id="fullscreen">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Menu de Configurações -->
            <div class="settings-menu" id="settings-menu" style="display: none;">
                <div class="settings-section">
                    <h4>Velocidade de Reprodução</h4>
                    <div class="speed-options">
                        <button class="speed-btn" data-speed="0.5">0.5x</button>
                        <button class="speed-btn" data-speed="0.75">0.75x</button>
                        <button class="speed-btn active" data-speed="1">1x</button>
                        <button class="speed-btn" data-speed="1.25">1.25x</button>
                        <button class="speed-btn" data-speed="1.5">1.5x</button>
                        <button class="speed-btn" data-speed="2">2x</button>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>Qualidade</h4>
                    <div class="quality-options">
                        <button class="quality-btn" data-quality="auto">Auto</button>
                        <button class="quality-btn" data-quality="1080p">1080p</button>
                        <button class="quality-btn" data-quality="720p">720p</button>
                        <button class="quality-btn" data-quality="480p">480p</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Sistema de Navegação Universal - PaixãoFlix
        class NavigationManager {
            constructor() {
                this.currentFocus = null;
                this.menuItems = document.querySelectorAll('.menu-link');
                this.movieCards = document.querySelectorAll('.movie-card');
                this.movieRows = document.querySelectorAll('.movie-row');
                this.sidebar = document.getElementById('sidebar');
                this.isInMenu = true;
                this.currentRowIndex = 0;
                this.currentCardIndex = 0;
                
                this.init();
            }
            
            init() {
                // Toggle sidebar expansion
                this.sidebar.addEventListener('mouseenter', () => {
                    this.sidebar.classList.add('expanded');
                });
                
                this.sidebar.addEventListener('mouseleave', () => {
                    this.sidebar.classList.remove('expanded');
                });
                
                // Foco inicial no primeiro item do menu
                this.menuItems[0].focus();
                this.currentFocus = this.menuItems[0];
                
                // Event listeners para navegação
                this.setupKeyboardNavigation();
                this.setupTouchNavigation();
                this.setupMouseNavigation();
            }
            
            setupKeyboardNavigation() {
                document.addEventListener('keydown', (e) => {
                    switch(e.key) {
                        case 'ArrowLeft':
                            e.preventDefault();
                            this.navigateLeft();
                            break;
                        case 'ArrowRight':
                            e.preventDefault();
                            this.navigateRight();
                            break;
                        case 'ArrowUp':
                            e.preventDefault();
                            this.navigateUp();
                            break;
                        case 'ArrowDown':
                            e.preventDefault();
                            this.navigateDown();
                            break;
                        case 'Enter':
                        case ' ':
                            e.preventDefault();
                            this.activateCurrent();
                            break;
                    }
                });
            }
            
            setupTouchNavigation() {
                // Scroll horizontal suave para mobile
                this.movieRows.forEach(row => {
                    let isScrolling = false;
                    let startX = 0;
                    let scrollLeft = 0;
                    
                    row.addEventListener('touchstart', (e) => {
                        isScrolling = true;
                        startX = e.touches[0].pageX - row.offsetLeft;
                        scrollLeft = row.scrollLeft;
                    });
                    
                    row.addEventListener('touchmove', (e) => {
                        if (!isScrolling) return;
                        e.preventDefault();
                        const x = e.touches[0].pageX - row.offsetLeft;
                        const walk = (x - startX) * 2;
                        row.scrollLeft = scrollLeft - walk;
                    });
                    
                    row.addEventListener('touchend', () => {
                        isScrolling = false;
                    });
                });
            }
            
            setupMouseNavigation() {
                // Foco ao passar o mouse
                this.menuItems.forEach(item => {
                    item.addEventListener('mouseenter', () => {
                        this.clearFocus();
                        item.classList.add('focused');
                        this.currentFocus = item;
                        this.isInMenu = true;
                    });
                });
                
                this.movieCards.forEach(card => {
                    card.addEventListener('mouseenter', () => {
                        this.clearFocus();
                        card.classList.add('focused');
                        this.currentFocus = card;
                        this.isInMenu = false;
                        
                        // Encontrar a fileira atual
                        const row = card.closest('.movie-row');
                        this.currentRowIndex = Array.from(this.movieRows).indexOf(row);
                        const cardsInRow = row.querySelectorAll('.movie-card');
                        this.currentCardIndex = Array.from(cardsInRow).indexOf(card);
                    });
                });
            }
            
            navigateLeft() {
                if (this.isInMenu) {
                    // Se está no menu, não faz nada à esquerda
                    return;
                } else {
                    // Se está nos cards, move para o card anterior
                    const currentRow = this.movieRows[this.currentRowIndex];
                    const cardsInRow = currentRow.querySelectorAll('.movie-card');
                    
                    if (this.currentCardIndex > 0) {
                        this.currentCardIndex--;
                    } else {
                        // Se está no primeiro card, volta para o menu
                        this.isInMenu = true;
                        this.menuItems[0].focus();
                        this.clearFocus();
                        this.menuItems[0].classList.add('focused');
                        this.currentFocus = this.menuItems[0];
                        return;
                    }
                    
                    this.focusCard(this.currentRowIndex, this.currentCardIndex);
                }
            }
            
            navigateRight() {
                if (this.isInMenu) {
                    // Se está no menu, vai para o primeiro card da primeira fileira
                    this.isInMenu = false;
                    this.currentRowIndex = 0;
                    this.currentCardIndex = 0;
                    this.focusCard(0, 0);
                } else {
                    // Se está nos cards, move para o próximo card
                    const currentRow = this.movieRows[this.currentRowIndex];
                    const cardsInRow = currentRow.querySelectorAll('.movie-card');
                    
                    if (this.currentCardIndex < cardsInRow.length - 1) {
                        this.currentCardIndex++;
                    } else {
                        // Se está no último card, vai para a primeira fileira
                        this.currentRowIndex = 0;
                        this.currentCardIndex = 0;
                    }
                    
                    this.focusCard(this.currentRowIndex, this.currentCardIndex);
                }
            }
            
            navigateUp() {
                if (this.isInMenu) {
                    // Navega para cima no menu
                    const currentIndex = Array.from(this.menuItems).indexOf(this.currentFocus);
                    if (currentIndex > 0) {
                        const prevItem = this.menuItems[currentIndex - 1];
                        this.clearFocus();
                        prevItem.focus();
                        prevItem.classList.add('focused');
                        this.currentFocus = prevItem;
                    }
                } else {
                    // Se está nos cards, vai para a fileira de cima
                    if (this.currentRowIndex > 0) {
                        this.currentRowIndex--;
                        // Mantém o mesmo índice de card se possível
                        const currentRow = this.movieRows[this.currentRowIndex];
                        const cardsInRow = currentRow.querySelectorAll('.movie-card');
                        if (this.currentCardIndex >= cardsInRow.length) {
                            this.currentCardIndex = cardsInRow.length - 1;
                        }
                        this.focusCard(this.currentRowIndex, this.currentCardIndex);
                    }
                }
            }
            
            navigateDown() {
                if (this.isInMenu) {
                    // Se está no menu, vai para os cards
                    this.isInMenu = false;
                    this.currentRowIndex = 0;
                    this.currentCardIndex = 0;
                    this.focusCard(0, 0);
                } else {
                    // Se está nos cards, vai para a fileira de baixo
                    if (this.currentRowIndex < this.movieRows.length - 1) {
                        this.currentRowIndex++;
                        // Mantém o mesmo índice de card se possível
                        const currentRow = this.movieRows[this.currentRowIndex];
                        const cardsInRow = currentRow.querySelectorAll('.movie-card');
                        if (this.currentCardIndex >= cardsInRow.length) {
                            this.currentCardIndex = cardsInRow.length - 1;
                        }
                        this.focusCard(this.currentRowIndex, this.currentCardIndex);
                    }
                }
            }
            
            focusCard(rowIndex, cardIndex) {
                const row = this.movieRows[rowIndex];
                const cards = row.querySelectorAll('.movie-card');
                const card = cards[cardIndex];
                
                if (card) {
                    this.clearFocus();
                    card.classList.add('focused');
                    card.focus();
                    this.currentFocus = card;
                    
                    // Scroll para garantir que o card está visível
                    const cardRect = card.getBoundingClientRect();
                    const rowRect = row.getBoundingClientRect();
                    
                    if (cardRect.right > rowRect.right) {
                        row.scrollBy({
                            left: cardRect.right - rowRect.right + 20,
                            behavior: 'smooth'
                        });
                    } else if (cardRect.left < rowRect.left) {
                        row.scrollBy({
                            left: cardRect.left - rowRect.left - 20,
                            behavior: 'smooth'
                        });
                    }
                }
            }
            
            activateCurrent() {
                if (this.currentFocus) {
                    // Simula clique no elemento focado
                    this.currentFocus.click();
                    
                    // Se for um card de filme, pode adicionar lógica específica
                    if (this.currentFocus.classList.contains('movie-card')) {
                        const movieId = this.currentFocus.dataset.id;
                        const category = this.currentFocus.closest('.movie-row').dataset.category;
                        console.log(`Reproduzindo filme ${movieId} da categoria ${category}`);
                    }
                }
            }
            
            clearFocus() {
                // Remove classe focused de todos os elementos
                document.querySelectorAll('.focused').forEach(el => {
                    el.classList.remove('focused');
                });
            }
        }
        
        // Sistema completo de navegação universal e funcionalidades avançadas
        class PaixaoFlixApp {
            constructor() {
                this.navigation = new NavigationManager();
                this.videoPlayer = new VideoPlayer();
                this.modalManager = new ModalManager();
                this.dataLoader = new DataLoader();
                this.tmdbService = new TMDBService();
                this.persistenceManager = new PersistenceManager();
                this.curatorEngine = new CuratorEngine();
                this.init();
            }
            
            async init() {
                // Inicializa componentes
                await this.dataLoader.loadInitialData();
                await this.tmdbService.init();
                this.persistenceManager.init();
                this.curatorEngine.init();
                this.setupEventListeners();
                this.setupGamepadNavigation();
                this.setupKeyboardShortcuts();
                this.setupScrollControls();
                this.initializeFocus();
                this.setupTimeBasedContent();
                console.log('PaixãoFlix inicializado com sucesso!');
            }
            
            initializeFocus() {
                // Inicia foco no primeiro elemento navegável
                const firstElement = document.querySelector('.menu-link');
                if (firstElement) {
                    firstElement.classList.add('focused');
                    this.navigation.setCurrentElement(firstElement);
                }
            }
            
            setupTimeBasedContent() {
                // Verifica se é sábado à noite
                this.checkSaturdayNight();
                setInterval(() => this.checkSaturdayNight(), 60000); // Verifica a cada minuto
            }
            
            checkSaturdayNight() {
                const now = new Date();
                const day = now.getDay(); // 0 = Domingo, 6 = Sábado
                const hours = now.getHours();
                const minutes = now.getMinutes();
                const currentTime = hours * 60 + minutes;
                
                // Sábado 16:59 (1019 minutos) até Domingo 05:59 (359 minutos)
                const isSaturdayNight = (day === 6 && currentTime >= 1019) || 
                                     (day === 0 && currentTime <= 359);
                
                this.toggleSaturdayNightSection(isSaturdayNight);
            }
            
            toggleSaturdayNightSection(show) {
                const section = document.querySelector('.saturday-night-section');
                if (section) {
                    section.style.display = show ? 'block' : 'none';
                }
            }
            
            setupScrollControls() {
                // Adiciona controle para ativar/desativar rolagem infinita
                const mainContent = document.querySelector('.main-content');
                if (!mainContent) return;
                
                // Adiciona indicador visual de rolagem infinita
                const indicator = document.createElement('div');
                indicator.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background: rgba(229, 9, 20, 0.9);
                    color: white;
                    padding: 8px 16px;
                    border-radius: 20px;
                    font-size: 0.8rem;
                    z-index: 1000;
                    cursor: pointer;
                    transition: all 0.3s ease;
                `;
                indicator.innerHTML = '<i class="fas fa-infinity"></i> Rolagem Infinita';
                indicator.title = 'Clique para desativar rolagem infinita';
                
                indicator.addEventListener('click', () => {
                    this.dataLoader.toggleInfiniteScroll();
                    const isActive = this.dataLoader.infiniteScrollEnabled;
                    indicator.innerHTML = isActive ? 
                        '<i class="fas fa-infinity"></i> Rolagem Infinita' : 
                        '<i class="fas fa-list"></i> Rolagem Normal';
                    indicator.title = isActive ? 
                        'Clique para desativar rolagem infinita' : 
                        'Clique para ativar rolagem infinita';
                });
                
                document.body.appendChild(indicator);
                
                // Esconde indicador após 5 segundos
                setTimeout(() => {
                    indicator.style.opacity = '0.7';
                    indicator.style.transform = 'scale(0.9)';
                }, 5000);
            }
            
            continueWatching(contentId) {
                // Continuar de onde parou
                const continueData = this.persistenceManager.getContinueWatching().find(item => item.contentId === contentId);
                if (continueData) {
                    this.videoPlayer.openPlayer();
                    // Carregar vídeo com posição salva
                    console.log('Continuando de:', continueData.lastPosition);
                }
            }
            
            restartWatching(contentId) {
                // Recomeçar do início
                this.videoPlayer.openPlayer();
                console.log('Recomeçando:', contentId);
            }
            
            setupEventListeners() {
                // Sidebar toggle
                const sidebar = document.getElementById('sidebar');
                const logo = document.querySelector('.logo');
                
                logo.addEventListener('click', () => {
                    sidebar.classList.toggle('expanded');
                });
                
                // Hero buttons
                document.getElementById('play-hero')?.addEventListener('click', () => {
                    this.videoPlayer.playSampleContent();
                });
                
                document.getElementById('info-hero')?.addEventListener('click', () => {
                    this.modalManager.showContentDetails('hero-content');
                });
                
                // Menu navigation
                document.querySelectorAll('.menu-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const page = link.dataset.page;
                        this.handleMenuNavigation(page);
                    });
                });
            }
            
            handleMenuNavigation(page) {
                console.log(`Navegando para: ${page}`);
                
                // Carrega dados específicos da página
                switch(page) {
                    case 'live-channels':
                        this.dataLoader.loadLiveChannels();
                        break;
                    case 'movies':
                        this.dataLoader.loadMovies();
                        break;
                    case 'series':
                        this.dataLoader.loadSeries();
                        break;
                    case 'favorites':
                        this.dataLoader.loadFavorites();
                        break;
                    case 'kids':
                        this.dataLoader.loadKidsContent();
                        break;
                    default:
                        // Home page - já está carregada
                        break;
                }
            }
            
            setupGamepadNavigation() {
                if (!('getGamepads' in navigator)) return;
                
                window.addEventListener('gamepadconnected', (e) => {
                    console.log('Controle conectado:', e.gamepad.id);
                    this.startGamepadLoop();
                });
            }
            
            startGamepadLoop() {
                const checkGamepad = () => {
                    const gamepads = navigator.getGamepads();
                    for (let gamepad of gamepads) {
                        if (gamepad && gamepad.connected) {
                            this.processGamepadInput(gamepad);
                        }
                    }
                    requestAnimationFrame(checkGamepad);
                };
                checkGamepad();
            }
            
            processGamepadInput(gamepad) {
                // Mapeamento de botões para navegação
                const buttonMap = {
                    0: 'A',      // Enter/Select
                    1: 'B',      // Back/Exit
                    12: 'UP',    // D-pad up
                    13: 'DOWN',  // D-pad down
                    14: 'LEFT',  // D-pad left
                    15: 'RIGHT'  // D-pad right
                };
                
                Object.keys(buttonMap).forEach(index => {
                    if (gamepad.buttons[index] && gamepad.buttons[index].pressed) {
                        this.handleGamepadButton(buttonMap[index]);
                    }
                });
            }
            
            handleGamepadButton(button) {
                switch(button) {
                    case 'UP':
                        this.navigation.navigateUp();
                        break;
                    case 'DOWN':
                        this.navigation.navigateDown();
                        break;
                    case 'LEFT':
                        this.navigation.navigateLeft();
                        break;
                    case 'RIGHT':
                        this.navigation.navigateRight();
                        break;
                    case 'A':
                        this.navigation.activateCurrent();
                        break;
                    case 'B':
                        this.handleBackButton();
                        break;
                }
            }
            
            handleBackButton() {
                // Fecha modal ou player se estiver aberto
                if (this.modalManager.isOpen) {
                    this.modalManager.closeModal();
                } else if (this.videoPlayer.isOpen) {
                    this.videoPlayer.closePlayer();
                } else {
                    // Colapsa sidebar se estiver expandida
                    const sidebar = document.getElementById('sidebar');
                    if (sidebar.classList.contains('expanded')) {
                        sidebar.classList.remove('expanded');
                    }
                }
            }
            
            setupKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    // Atalhos globais
                    switch(e.key) {
                        case 'Escape':
                            this.handleBackButton();
                            break;
                        case ' ':
                            e.preventDefault();
                            if (this.videoPlayer.isOpen) {
                                this.videoPlayer.togglePlay();
                            }
                            break;
                        case 'f':
                        case 'F':
                            if (this.videoPlayer.isOpen) {
                                this.videoPlayer.toggleFullscreen();
                            }
                            break;
                    }
                });
            }
        }
        
        // Serviço TMDB para integração com API
        class TMDBService {
            constructor() {
                this.apiKey = 'b275ce8e1a6b3d5d879bb0907e4f56ad';
                this.baseUrl = 'https://api.themoviedb.org/3';
                this.imageBaseUrl = 'https://image.tmdb.org/t/p/w500';
                this.backdropBaseUrl = 'https://image.tmdb.org/t/p/original';
                this.cache = new Map();
            }
            
            async init() {
                console.log('TMDB Service inicializado');
                // Carrega banners populares para o hero
                await this.loadHeroBanners();
            }
            
            async loadHeroBanners() {
                try {
                    const response = await fetch(`${this.baseUrl}/movie/popular?api_key=${this.apiKey}&language=pt-BR`);
                    const data = await response.json();
                    this.updateHeroBanner(data.results[0]);
                } catch (error) {
                    console.error('Erro ao carregar banners:', error);
                }
            }
            
            updateHeroBanner(movie) {
                const heroContent = document.querySelector('.hero-content');
                if (heroContent && movie) {
                    const backdropUrl = `${this.backdropBaseUrl}${movie.backdrop_path}`;
                    document.querySelector('.hero').style.backgroundImage = 
                        `url(${backdropUrl}), linear-gradient(135deg, rgba(10, 10, 10, 0.9) 0%, rgba(229, 9, 20, 0.2) 30%, rgba(10, 10, 10, 0.8) 100%)`;
                    
                    heroContent.querySelector('.hero-title').textContent = movie.title;
                    heroContent.querySelector('.hero-description').textContent = 
                        movie.overview?.substring(0, 150) + '...' || 'Descubra os melhores filmes e séries.';
                }
            }
            
            async searchMovies(query) {
                const cacheKey = `search_${query}`;
                if (this.cache.has(cacheKey)) {
                    return this.cache.get(cacheKey);
                }
                
                try {
                    const response = await fetch(
                        `${this.baseUrl}/search/movie?api_key=${this.apiKey}&language=pt-BR&query=${encodeURIComponent(query)}`
                    );
                    const data = await response.json();
                    this.cache.set(cacheKey, data.results);
                    return data.results;
                } catch (error) {
                    console.error('Erro na busca:', error);
                    return [];
                }
            }
            
            async getMovieDetails(movieId) {
                try {
                    const response = await fetch(
                        `${this.baseUrl}/movie/${movieId}?api_key=${this.apiKey}&language=pt-BR&append_to_response=credits,videos`
                    );
                    return await response.json();
                } catch (error) {
                    console.error('Erro ao carregar detalhes:', error);
                    return null;
                }
            }
            
            getImageUrl(path, size = 'w500') {
                if (!path) return 'https://via.placeholder.com/500x750/1a1a1a/ffffff?text=Sem+Imagem';
                return `https://image.tmdb.org/t/p/${size}${path}`;
            }
        }
        
        // Gerenciador de Persistência
        class PersistenceManager {
            constructor() {
                this.continueWatchingKey = 'paixaoflix_continue_watching';
                this.maxContinueItems = 3;
            }
            
            init() {
                this.loadContinueWatching();
                this.setupEventListeners();
            }
            
            setupEventListeners() {
                // Intercepta cliques em cards para salvar progresso
                document.addEventListener('click', (e) => {
                    const card = e.target.closest('[data-content-id]');
                    if (card) {
                        this.saveWatchProgress(card.dataset.contentId, card.dataset.contentType);
                    }
                });
            }
            
            saveWatchProgress(contentId, contentType, progress = 0) {
                const watchData = {
                    contentId,
                    contentType,
                    progress,
                    timestamp: Date.now(),
                    lastPosition: progress
                };
                
                let continueWatching = this.getContinueWatching();
                
                // Remove item existente se já estiver na lista
                continueWatching = continueWatching.filter(item => item.contentId !== contentId);
                
                // Adiciona no início
                continueWatching.unshift(watchData);
                
                // Mantém apenas os últimos 3
                continueWatching = continueWatching.slice(0, this.maxContinueItems);
                
                localStorage.setItem(this.continueWatchingKey, JSON.stringify(continueWatching));
                this.updateContinueWatchingUI();
            }
            
            getContinueWatching() {
                const data = localStorage.getItem(this.continueWatchingKey);
                return data ? JSON.parse(data) : [];
            }
            
            loadContinueWatching() {
                const continueWatching = this.getContinueWatching();
                if (continueWatching.length > 0) {
                    this.renderContinueWatchingSection(continueWatching);
                }
            }
            
            renderContinueWatchingSection(items) {
                const container = document.querySelector('.main-content');
                const heroSection = document.querySelector('.hero');
                
                const section = document.createElement('section');
                section.className = 'continue-watching';
                section.innerHTML = `
                    <h2 class="section-title">Continuar Assistindo</h2>
                    <div class="infinite-row" id="continue-watching-row">
                        ${items.map(item => this.createContinueWatchingCard(item)).join('')}
                    </div>
                `;
                
                container.insertBefore(section, heroSection.nextSibling);
            }
            
            createContinueWatchingCard(item) {
                const progressPercent = (item.progress / 100) * 100;
                return `
                    <div class="wide-card" data-content-id="${item.contentId}" data-content-type="${item.contentType}">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                            <div class="progress-overlay">
                                <div class="progress-bar-fill" style="width: ${progressPercent}%"></div>
                            </div>
                        </div>
                        <div class="card-info">
                            <div class="card-title">${item.contentId}</div>
                            <div class="card-meta">
                                <span>${Math.floor(progressPercent)}% assistido</span>
                                <span>${new Date(item.timestamp).toLocaleDateString('pt-BR')}</span>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            updateContinueWatchingUI() {
                const row = document.getElementById('continue-watching-row');
                if (row) {
                    const items = this.getContinueWatching();
                    row.innerHTML = items.map(item => this.createContinueWatchingCard(item)).join('');
                }
            }
            
            showContinueDialog(contentId) {
                const modal = document.createElement('div');
                modal.className = 'continue-dialog';
                modal.innerHTML = `
                    <div class="continue-dialog-content">
                        <h3>Bem vindo(a) de volta ao PaixãoFlix!</h3>
                        <p>Quer continuar assistindo ou recomeçar?</p>
                        <div class="continue-dialog-buttons">
                            <button class="btn-primary" onclick="this.closest('.continue-dialog').remove(); window.paixaoflix.continueWatching('${contentId}')">
                                <i class="fas fa-play"></i> Continuar
                            </button>
                            <button class="btn-secondary" onclick="this.closest('.continue-dialog').remove(); window.paixaoflix.restartWatching('${contentId}')">
                                <i class="fas fa-redo"></i> Recomeçar
                            </button>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
            }
        }
        
        // Motor de Curadoria Inteligente
        class CuratorEngine {
            constructor() {
                this.categories = {
                    'nao-deixe-de-ver': [],
                    'premiados-pela-midia': [],
                    'nostalgia-classicos': [],
                    'kids-criancas-amam': [],
                    'maratonar-series': [],
                    'porque-você-assistiu': []
                };
            }
            
            async init() {
                await this.loadCuratedContent();
                this.renderCuratedSections();
            }
            
            async loadCuratedContent() {
                // Carrega dados dos arquivos JSON
                try {
                    const [movies, series, kidsMovies, kidsSeries] = await Promise.all([
                        fetch('data/filmes.json').then(r => r.json()),
                        fetch('data/series.json').then(r => r.json()),
                        fetch('data/kids_filmes.json').then(r => r.json()),
                        fetch('data/kids_series.json').then(r => r.json())
                    ]);
                    
                    this.processContent(movies, series, kidsMovies, kidsSeries);
                } catch (error) {
                    console.error('Erro ao carregar conteúdo curado:', error);
                }
            }
            
            processContent(movies, series, kidsMovies, kidsSeries) {
                const allContent = [
                    ...movies.movies.map(m => ({...m, type: 'movie'})),
                    ...series.series.map(s => ({...s, type: 'series'})),
                    ...kidsMovies.movies.map(m => ({...m, type: 'movie', category: 'kids'})),
                    ...kidsSeries.series.map(s => ({...s, type: 'series', category: 'kids'}))
                ];
                
                // Não Deixe de Ver - Top 5 mais vistos (simulado)
                this.categories['nao-deixe-de-ver'] = this.getTopViewed(allContent, 5);
                
                // Premiados - Conteúdo com prêmios (simulado)
                this.categories['premiados-pela-midia'] = this.getAwardWinning(allContent, 5);
                
                // Nostalgia - Clássicos aleatórios
                this.categories['nostalgia-classicos'] = this.getRandomContent(allContent, 5, 'classic');
                
                // Kids - Conteúdo infantil aleatório
                this.categories['kids-criancas-amam'] = this.getRandomContent(
                    allContent.filter(c => c.category === 'kids'), 5
                );
                
                // Maratonar - Séries aleatórias
                this.categories['maratonar-series'] = this.getRandomContent(
                    allContent.filter(c => c.type === 'series'), 5
                );
                
                // Porque você assistiu - Baseado no último conteúdo
                const lastWatched = this.getLastWatched();
                if (lastWatched) {
                    this.categories['porque-você-assistiu'] = this.getRecommendations(
                        allContent, lastWatched, 4
                    );
                }
            }
            
            getTopViewed(content, count) {
                // Simulação - ordena por visualizações (aleatório para demo)
                return content.sort(() => Math.random() - 0.5).slice(0, count);
            }
            
            getAwardWinning(content, count) {
                // Simulação - conteúdo com prêmios
                return content.filter(item => 
                    item.title.includes('Oscar') || 
                    item.title.includes('Golden') ||
                    Math.random() > 0.7
                ).slice(0, count);
            }
            
            getRandomContent(content, count, filter = null) {
                let filtered = content;
                if (filter === 'classic') {
                    filtered = content.filter(item => 
                        parseInt(item.year) < 2010 || Math.random() > 0.8
                    );
                }
                return filtered.sort(() => Math.random() - 0.5).slice(0, count);
            }
            
            getLastWatched() {
                const continueData = localStorage.getItem('paixaoflix_continue_watching');
                if (continueData) {
                    const items = JSON.parse(continueData);
                    return items[0]; // Último assistido
                }
                return null;
            }
            
            getRecommendations(content, lastWatched, count) {
                // Recomendação baseada em gênero
                const lastGenres = lastWatched.genres || [];
                return content
                    .filter(item => 
                        item.id !== lastWatched.contentId &&
                        item.genres?.some(genre => lastGenres.includes(genre))
                    )
                    .sort(() => Math.random() - 0.5)
                    .slice(0, count);
            }
            
            renderCuratedSections() {
                const container = document.querySelector('.main-content');
                const heroSection = document.querySelector('.hero');
                
                Object.entries(this.categories).forEach(([key, items]) => {
                    if (items.length === 0) return;
                    
                    const section = this.createCuratedSection(key, items);
                    container.insertBefore(section, heroSection.nextSibling);
                });
            }
            
            createCuratedSection(categoryKey, items) {
                const titles = {
                    'nao-deixe-de-ver': 'Não Deixe de Ver',
                    'premiados-pela-midia': 'Premiados pela Mídia',
                    'nostalgia-classicos': 'Nostalgia (Clássicos)',
                    'kids-criancas-amam': 'Kids (Crianças Amam)',
                    'maratonar-series': 'Maratonar (Séries)',
                    'porque-você-assistiu': 'Porque você assistiu'
                };
                
                const section = document.createElement('section');
                section.className = 'content-section curated-section';
                section.innerHTML = `
                    <h2 class="section-title">${titles[categoryKey]}</h2>
                    <div class="${categoryKey === 'premiados-pela-midia' ? 'infinite-row' : 'movie-row'}">
                        ${items.map((item, index) => this.createCuratedCard(item, categoryKey, index)).join('')}
                    </div>
                `;
                
                return section;
            }
            
            createCuratedCard(item, categoryKey, index) {
                if (categoryKey === 'nao-deixe-de-ver') {
                    return `
                        <div class="rank-card" data-content-id="${item.id}" data-content-type="${item.type}">
                            <div class="rank-number">${index + 1}</div>
                            <div class="card-thumbnail">
                                <i class="fas fa-play-circle"></i>
                            </div>
                            <h3>${item.title}</h3>
                        </div>
                    `;
                }
                
                if (categoryKey === 'premiados-pela-midia') {
                    return `
                        <div class="award-card" data-content-id="${item.id}" data-content-type="${item.type}">
                            <div class="award-badge">🏆</div>
                            <div class="card-thumbnail">
                                <i class="fas fa-play-circle"></i>
                            </div>
                            <div class="card-footer">
                                <div>${item.year} • ⭐ ${item.rating || '8.5'}</div>
                                <div>${item.genres?.slice(0, 2).join(' • ') || 'Drama'}</div>
                                <div>${item.duration || '2h'} • Oscar 2024</div>
                            </div>
                        </div>
                    `;
                }
                
                return `
                    <div class="movie-card" data-content-id="${item.id}" data-content-type="${item.type}">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h3>${item.title}</h3>
                    </div>
                `;
            }
        }
        class VideoPlayer {
            constructor() {
                this.video = document.getElementById('main-video');
                this.controls = document.querySelector('.player-controls');
                this.playerContainer = document.querySelector('.video-player');
                this.progressBar = document.querySelector('.progress-bar');
                this.progressFilled = document.querySelector('.progress-filled');
                this.timeDisplay = document.querySelector('.time-display');
                this.playBtn = document.querySelector('.center-play');
                this.volumeSlider = document.getElementById('volume-slider');
                this.settingsBtn = document.getElementById('settings-btn');
                this.settingsMenu = document.querySelector('.settings-menu');
                
                this.isPlaying = false;
                this.controlsTimeout = null;
                this.currentSpeed = 1;
                this.currentQuality = '1080p';
                
                this.isOpen = false;
                this.init();
            }
            
            init() {
                this.setupVideoControls();
                this.setupProgressBar();
                this.setupVolumeControl();
                this.setupSettingsMenu();
                this.setupKeyboardControls();
                this.loadSavedProgress();
            }
            
            setupVideoControls() {
                // Play/Pause central
                this.playBtn?.addEventListener('click', () => this.togglePlay());
                
                // Botões de controle
                document.querySelector('.play-pause-btn')?.addEventListener('click', () => this.togglePlay());
                document.querySelector('.skip-backward-btn')?.addEventListener('click', () => this.skip(-10));
                document.querySelector('.skip-forward-btn')?.addEventListener('click', () => this.skip(10));
                document.querySelector('.volume-btn')?.addEventListener('click', () => this.toggleMute());
                document.querySelector('.fullscreen-btn')?.addEventListener('click', () => this.toggleFullscreen());
                document.querySelector('.close-player-btn')?.addEventListener('click', () => this.closePlayer());
                
                // Eventos do vídeo
                this.video?.addEventListener('timeupdate', () => this.updateProgress());
                this.video?.addEventListener('loadedmetadata', () => this.updateTimeDisplay());
                this.video?.addEventListener('ended', () => this.handleVideoEnd());
                this.video?.addEventListener('play', () => this.setPlayingState(true));
                this.video?.addEventListener('pause', () => this.setPlayingState(false));
                
                // Auto-hide controls
                this.playerContainer?.addEventListener('mousemove', () => this.showControls());
                this.playerContainer?.addEventListener('touchstart', () => this.showControls());
            }
            
            setupProgressBar() {
                this.progressBar?.addEventListener('click', (e) => {
                    const rect = this.progressBar.getBoundingClientRect();
                    const percent = (e.clientX - rect.left) / rect.width;
                    this.seek(percent);
                });
                
                this.progressBar?.addEventListener('mousemove', (e) => {
                    const rect = this.progressBar.getBoundingClientRect();
                    const percent = (e.clientX - rect.left) / rect.width;
                    this.showPreview(percent);
                });
            }
            
            setupVolumeControl() {
                this.volumeSlider?.addEventListener('input', (e) => {
                    this.setVolume(e.target.value / 100);
                });
            }
            
            setupSettingsMenu() {
                this.settingsBtn?.addEventListener('click', () => {
                    this.settingsMenu?.classList.toggle('active');
                });
                
                // Velocidade de reprodução
                document.querySelectorAll('.speed-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        document.querySelectorAll('.speed-btn').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        this.setPlaybackSpeed(parseFloat(btn.dataset.speed));
                    });
                });
                
                // Qualidade
                document.querySelectorAll('.quality-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        document.querySelectorAll('.quality-btn').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        this.setQuality(btn.dataset.quality);
                    });
                });
            }
            
            setupKeyboardControls() {
                document.addEventListener('keydown', (e) => {
                    if (!this.isOpen) return;
                    
                    switch(e.key) {
                        case 'ArrowLeft':
                            this.skip(-5);
                            break;
                        case 'ArrowRight':
                            this.skip(5);
                            break;
                        case 'ArrowUp':
                            this.adjustVolume(0.1);
                            break;
                        case 'ArrowDown':
                            this.adjustVolume(-0.1);
                            break;
                    }
                });
            }
            
            playSampleContent() {
                this.openPlayer();
                // Carrega vídeo de exemplo com suporte M3U8
                if (this.video) {
                    // Tenta carregar vídeo M3U8 primeiro
                    this.video.src = 'https://test-streams.mux.dev/x36xhzzD8fnWVwhVsl5cfIYy2nICU8V02LLr8Uxg4B01I.m3u8';
                    this.video.load();
                    
                    // Fallback para MP4 se M3U8 falhar
                    this.video.addEventListener('error', () => {
                        console.log('M3U8 falhou, usando MP4 fallback');
                        this.video.src = 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4';
                        this.video.load();
                    }, { once: true });
                    
                    this.video.play();
                }
            }
            
            openPlayer() {
                this.playerContainer.style.display = 'flex';
                this.isOpen = true;
                document.body.classList.add('player-open');
                this.showControls();
            }
            
            closePlayer() {
                this.playerContainer.style.display = 'none';
                this.isOpen = false;
                document.body.classList.remove('player-open');
                this.saveProgress();
                if (this.video) {
                    this.video.pause();
                }
            }
            
            togglePlay() {
                if (!this.video) return;
                
                if (this.isPlaying) {
                    this.video.pause();
                } else {
                    this.video.play();
                }
            }
            
            setPlayingState(playing) {
                this.isPlaying = playing;
                const playIcon = this.playBtn?.querySelector('i');
                if (playIcon) {
                    playIcon.className = playing ? 'fas fa-pause' : 'fas fa-play';
                }
            }
            
            skip(seconds) {
                if (!this.video) return;
                this.video.currentTime = Math.max(0, Math.min(this.video.duration, this.video.currentTime + seconds));
            }
            
            seek(percent) {
                if (!this.video) return;
                this.video.currentTime = percent * this.video.duration;
            }
            
            updateProgress() {
                if (!this.video || !this.progressFilled) return;
                
                const percent = (this.video.currentTime / this.video.duration) * 100;
                this.progressFilled.style.width = `${percent}%`;
                this.updateTimeDisplay();
                this.saveProgress();
            }
            
            updateTimeDisplay() {
                if (!this.video || !this.timeDisplay) return;
                
                const current = this.formatTime(this.video.currentTime);
                const duration = this.formatTime(this.video.duration);
                this.timeDisplay.innerHTML = `${current} <span>/</span> ${duration}`;
            }
            
            formatTime(seconds) {
                if (!seconds || isNaN(seconds)) return '0:00';
                
                const h = Math.floor(seconds / 3600);
                const m = Math.floor((seconds % 3600) / 60);
                const s = Math.floor(seconds % 60);
                
                if (h > 0) {
                    return `${h}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
                }
                return `${m}:${s.toString().padStart(2, '0')}`;
            }
            
            setVolume(volume) {
                if (!this.video) return;
                this.video.volume = Math.max(0, Math.min(1, volume));
                
                if (this.volumeSlider) {
                    this.volumeSlider.value = volume * 100;
                }
            }
            
            adjustVolume(delta) {
                if (!this.video) return;
                this.setVolume(this.video.volume + delta);
            }
            
            toggleMute() {
                if (!this.video) return;
                this.video.muted = !this.video.muted;
                
                const muteIcon = document.querySelector('.volume-btn i');
                if (muteIcon) {
                    muteIcon.className = this.video.muted ? 'fas fa-volume-mute' : 'fas fa-volume-up';
                }
            }
            
            setPlaybackSpeed(speed) {
                if (!this.video) return;
                this.video.playbackRate = speed;
                this.currentSpeed = speed;
            }
            
            setQuality(quality) {
                this.currentQuality = quality;
                // Implementar lógica de mudança de qualidade
                console.log(`Qualidade alterada para: ${quality}`);
            }
            
            toggleFullscreen() {
                if (!document.fullscreenElement) {
                    this.playerContainer?.requestFullscreen();
                } else {
                    document.exitFullscreen();
                }
            }
            
            showControls() {
                if (this.controls) {
                    this.controls.classList.remove('hidden');
                }
                
                clearTimeout(this.controlsTimeout);
                this.controlsTimeout = setTimeout(() => {
                    if (this.isPlaying) {
                        this.controls?.classList.add('hidden');
                    }
                }, 3000);
            }
            
            showPreview(percent) {
                // Implementar preview do vídeo ao passar mouse na progress bar
                console.log(`Preview at ${percent}%`);
            }
            
            handleVideoEnd() {
                this.setPlayingState(false);
                // Mostrar recomendações ou voltar para a lista
                setTimeout(() => {
                    this.closePlayer();
                }, 5000);
            }
            
            saveProgress() {
                if (!this.video) return;
                
                const progress = {
                    currentTime: this.video.currentTime,
                    duration: this.video.duration,
                    timestamp: Date.now()
                };
                
                localStorage.setItem('paixaoflix_video_progress', JSON.stringify(progress));
            }
            
            loadSavedProgress() {
                const saved = localStorage.getItem('paixaoflix_video_progress');
                if (saved) {
                    try {
                        const progress = JSON.parse(saved);
                        // Implementar lógica para continuar de onde parou
                        console.log('Progresso carregado:', progress);
                    } catch (e) {
                        console.error('Erro ao carregar progresso:', e);
                    }
                }
            }
        }
        
        // Gerenciador de Modal
        class ModalManager {
            constructor() {
                this.modal = document.getElementById('details-modal');
                this.isOpen = false;
                this.currentContent = null;
                this.init();
            }
            
            init() {
                this.setupModalEvents();
            }
            
            setupModalEvents() {
                // Close button
                document.querySelector('.modal-close')?.addEventListener('click', () => {
                    this.closeModal();
                });
                
                // Backdrop click
                document.querySelector('.modal-backdrop')?.addEventListener('click', () => {
                    this.closeModal();
                });
                
                // Escape key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && this.isOpen) {
                        this.closeModal();
                    }
                });
                
                // Action buttons
                document.querySelector('.btn-play')?.addEventListener('click', () => {
                    this.playContent();
                });
                
                document.querySelector('.btn-favorite')?.addEventListener('click', () => {
                    this.toggleFavorite();
                });
            }
            
            showContentDetails(contentId) {
                this.currentContent = contentId;
                this.loadContentData(contentId);
                this.modal?.classList.add('active');
                this.isOpen = true;
                document.body.classList.add('modal-open');
            }
            
            closeModal() {
                this.modal?.classList.remove('active');
                this.isOpen = false;
                document.body.classList.remove('modal-open');
                this.currentContent = null;
            }
            
            loadContentData(contentId) {
                // Simulação de carregamento de dados
                const sampleData = {
                    title: 'Título do Conteúdo',
                    year: '2024',
                    duration: '2h 30min',
                    rating: '16',
                    genres: ['Ação', 'Aventura', 'Ficção'],
                    description: 'Uma emocionante jornada de aventura e descoberta em um mundo cheio de mistérios e desafios.',
                    cast: ['Ator 1', 'Atriz 2', 'Ator 3'],
                    episodes: [
                        { title: 'Episódio 1', duration: '45min' },
                        { title: 'Episódio 2', duration: '48min' }
                    ]
                };
                
                this.updateModalContent(sampleData);
            }
            
            updateModalContent(data) {
                // Atualiza título
                const titleElement = document.querySelector('.modal-title');
                if (titleElement) titleElement.textContent = data.title;
                
                // Atualiza metadados
                const metaElements = document.querySelectorAll('.modal-meta span');
                if (metaElements[0]) metaElements[0].textContent = data.year;
                if (metaElements[1]) metaElements[1].textContent = data.duration;
                if (metaElements[2]) metaElements[2].textContent = data.rating;
                
                // Atualiza gêneros
                const genresContainer = document.querySelector('.modal-genres');
                if (genresContainer) {
                    genresContainer.innerHTML = data.genres.map(genre => 
                        `<span class="genre-tag">${genre}</span>`
                    ).join('');
                }
                
                // Atualiza descrição
                const descriptionElement = document.querySelector('.modal-description p');
                if (descriptionElement) descriptionElement.textContent = data.description;
                
                // Atualiza elenco
                const castList = document.querySelector('.cast-list');
                if (castList) {
                    castList.innerHTML = data.cast.map(actor => `
                        <div class="cast-member">
                            <div class="cast-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <span class="cast-name">${actor}</span>
                        </div>
                    `).join('');
                }
                
                // Atualiza episódios
                const episodesList = document.querySelector('.episodes-list');
                if (episodesList) {
                    episodesList.innerHTML = data.episodes.map(episode => `
                        <div class="episode-item">
                            <h4>${episode.title}</h4>
                            <p>${episode.duration}</p>
                        </div>
                    `).join('');
                }
            }
            
            playContent() {
                this.closeModal();
                // Inicia o player com o conteúdo atual
                const videoPlayer = new VideoPlayer();
                videoPlayer.playSampleContent();
            }
            
            toggleFavorite() {
                const favoriteBtn = document.querySelector('.btn-favorite');
                if (favoriteBtn) {
                    favoriteBtn.classList.toggle('active');
                    const isActive = favoriteBtn.classList.contains('active');
                    
                    // Salva nos favoritos
                    const favorites = JSON.parse(localStorage.getItem('paixaoflix_favorites') || '[]');
                    if (isActive && !favorites.includes(this.currentContent)) {
                        favorites.push(this.currentContent);
                    } else if (!isActive) {
                        const index = favorites.indexOf(this.currentContent);
                        if (index > -1) favorites.splice(index, 1);
                    }
                    localStorage.setItem('paixaoflix_favorites', JSON.stringify(favorites));
                    
                    // Atualiza ícone
                    const icon = favoriteBtn.querySelector('i');
                    if (icon) {
                        icon.className = isActive ? 'fas fa-heart' : 'far fa-heart';
                    }
                }
            }
        }
        
        // Carregador de Dados
        class DataLoader {
            constructor() {
                this.cache = new Map();
                this.infiniteScrollEnabled = true;
                this.setupInfiniteScroll();
            }
            
            toggleInfiniteScroll() {
                this.infiniteScrollEnabled = !this.infiniteScrollEnabled;
                console.log('Rolagem infinita:', this.infiniteScrollEnabled ? 'ATIVADA' : 'DESATIVADA');
            }
            
            setupInfiniteScroll() {
                const mainContent = document.querySelector('.main-content');
                if (!mainContent) return;
                
                let isDuplicating = false;
                
                mainContent.addEventListener('scroll', () => {
                    if (!this.infiniteScrollEnabled || isDuplicating) return;
                    
                    const scrollTop = mainContent.scrollTop;
                    const scrollHeight = mainContent.scrollHeight;
                    const clientHeight = mainContent.clientHeight;
                    
                    // Detecta quando chegou perto do final (90%)
                    if (scrollTop + clientHeight >= scrollHeight * 0.9) {
                        isDuplicating = true;
                        this.showLoadingIndicator();
                        
                        setTimeout(() => {
                            this.duplicateContentSections();
                            this.hideLoadingIndicator();
                            isDuplicating = false;
                        }, 500);
                    }
                    
                    // Detecta quando voltou perto do topo (10%)
                    if (scrollTop <= scrollHeight * 0.1 && scrollTop > 100) {
                        this.resetScrollPosition();
                    }
                });
            }
            
            showLoadingIndicator() {
                const container = document.querySelector('.main-content');
                const loader = document.createElement('div');
                loader.className = 'infinite-scroll-loader';
                loader.id = 'infinite-loader';
                loader.innerHTML = '<i class="fas fa-spinner"></i><p>Carregando mais conteúdo...</p>';
                container.appendChild(loader);
            }
            
            hideLoadingIndicator() {
                const loader = document.getElementById('infinite-loader');
                if (loader) {
                    loader.remove();
                }
            }
            
            duplicateContentSections() {
                const sections = document.querySelectorAll('.content-section');
                if (sections.length === 0) return;
                
                // Evita duplicação excessiva
                const totalSections = document.querySelectorAll('.content-section').length;
                if (totalSections > 100) return;
                
                const container = document.querySelector('.main-content');
                const heroSection = document.querySelector('.hero');
                
                // Duplica as seções de conteúdo
                sections.forEach(section => {
                    const clone = section.cloneNode(true);
                    clone.classList.add('cloned-section');
                    container.appendChild(clone);
                });
                
                console.log('Seções duplicadas para rolagem infinita');
            }
            
            resetScrollPosition() {
                const mainContent = document.querySelector('.main-content');
                const heroHeight = document.querySelector('.hero')?.offsetHeight || 0;
                
                // Remove seções clonadas do topo
                const clonedSections = document.querySelectorAll('.cloned-section');
                clonedSections.forEach(section => section.remove());
                
                // Reseta posição do scroll
                mainContent.scrollTop = heroHeight;
            }
            
            async loadInitialData() {
                console.log('Carregando dados iniciais...');
                // Carrega novelas com loop infinito
                await this.loadNovelas();
            }
            
            async loadNovelas() {
                try {
                    const response = await fetch('data/series.json');
                    const data = await response.json();
                    this.renderNovelasWithLoop(data);
                } catch (error) {
                    console.error('Erro ao carregar novelas:', error);
                }
            }
            
            renderNovelasWithLoop(data) {
                const novelaRow = document.querySelector('.novela-section .infinite-row');
                if (!novelaRow || !data.categories.novela) return;
                
                const novelas = data.categories.novela.map(id => 
                    data.series.find(s => s.id === id)
                ).filter(Boolean);
                
                // Cria conteúdo duplicado para loop infinito
                const duplicatedContent = [...novelas, ...novelas];
                
                novelaRow.innerHTML = duplicatedContent.map(novela => `
                    <div class="wide-card" data-content-id="${novela.id}" data-content-type="series">
                        <div class="card-thumbnail">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <div class="card-info">
                            <div class="card-title">${novela.title}</div>
                            <div class="card-meta">
                                <span>${novela.year}</span>
                                <span>${novela.rating}</span>
                                <span>${novela.genres[0]}</span>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            async loadLiveChannels() {
                try {
                    const response = await fetch('data/ativa_canais.m3u');
                    const data = await response.text();
                    this.parseM3UData(data);
                } catch (error) {
                    console.error('Erro ao carregar canais ao vivo:', error);
                }
            }
            
            async loadMovies() {
                try {
                    const response = await fetch('data/filmes.json');
                    const data = await response.json();
                    this.updateMovieRows(data);
                } catch (error) {
                    console.error('Erro ao carregar filmes:', error);
                }
            }
            
            async loadSeries() {
                try {
                    const response = await fetch('data/series.json');
                    const data = await response.json();
                    this.updateSeriesRows(data);
                } catch (error) {
                    console.error('Erro ao carregar séries:', error);
                }
            }
            
            async loadFavorites() {
                const favorites = JSON.parse(localStorage.getItem('paixaoflix_favorites') || '[]');
                // Implementar lógica para mostrar favoritos
                console.log('Favoritos carregados:', favorites);
            }
            
            async loadKidsContent() {
                try {
                    const [channels, movies, series] = await Promise.all([
                        fetch('data/ativa_kids_canais.m3u'),
                        fetch('data/kids_filmes.json'),
                        fetch('data/kids_series.json')
                    ]);
                    
                    const channelsData = await channels.text();
                    const moviesData = await movies.json();
                    const seriesData = await series.json();
                    
                    this.updateKidsContent(channelsData, moviesData, seriesData);
                } catch (error) {
                    console.error('Erro ao carregar conteúdo kids:', error);
                }
            }
            
            parseM3UData(data) {
                // Implementar parser M3U
                console.log('Dados M3U:', data);
            }
            
            updateMovieRows(data) {
                // Implementar atualização das fileiras de filmes
                console.log('Filmes:', data);
            }
            
            updateSeriesRows(data) {
                // Implementar atualização das fileiras de séries
                console.log('Séries:', data);
            }
            
            updateKidsContent(channels, movies, series) {
                // Implementar atualização do conteúdo kids
                console.log('Conteúdo Kids:', { channels, movies, series });
            }
        }
        
        // Inicializa o sistema completo
        document.addEventListener('DOMContentLoaded', () => {
            window.paixaoflix = new PaixaoFlixApp();
        });
    </script>
</body>
</html>
